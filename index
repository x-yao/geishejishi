<html lang="zh-cn">

<head>
    <meta charset="utf-8">
    <meta content="yes" name="apple-mobile-web-app-capable">
    <meta content="yes" name="apple-touch-fullscreen">
    <meta name="format-detection" content="telephone=no,email=no">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
    <meta name="keywords" content="">
    <meta name="description" content="">
    <title>ios各个设备一览表</title>
    <link rel="stylesheet" href="http://cdn.bootcss.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <script src="http://libs.baidu.com/jquery/2.0.0/jquery.min.js"></script>
    <script src="http://cdn.bootcss.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="css/css-debug/demo.css" media="all">
</head>

<body>
<form>
    <input type="file" name="uploadBacFile" class="uploader form-control" />
    <input type="file" name="uploadItmFile" class="uploader form-control" />
    <label for="poselect">背景图片分布</label>
    <select name="position" id="poselect" class="form-control">
        <option value="top">上</option>
        <option value="center">中</option>
        <option value="bottom">下</option>
        <option value="ya">压</option>
    </select>
    <label for="bacfull">背景填充方式</label>
    <select name="position" id="bacfull" class="form-control">
        <option value="cover">铺满（cover）</option>
        <option value="contain">涵盖（contain）</option>
        <option value="100%">100%</option>
    </select>
    <label for="minHeight">最小高度</label>
    <input type="text" id="minHeight" placeholder="请输入最小高度请带上单位" class="form-control">
    <input type="text" style="display:none;">
    <div id="minHeightBtn" class="btn btn-default">确认</div>
</form>
    
    <div class="device ip4">
        <header>iPhone 4设备 </header>
        <div class="wx device-main">
            <div class="container" data-image="">
                <header></header>
                <div class="contain">
                    <div class="body"></div>
                </div>
            </div>
            <div class="controller">
            </div>
        </div>
        <div class="safari device-main">
            <div class="container">
                <header></header>
                <div class="contain">
                    <div class="body"></div>
                </div>
                <footer></footer>
            </div>
            <div class="controller"></div>
        </div>
    </div>
    <div class="device ip5">
    <header>iPhone 5设备 </header>
    <div class="wx device-main">
            <div class="container" data-image="">
                <header></header>
                <div class="contain">
                    <div class="body"></div>
                </div>
            </div>
            <div class="controller">
            </div>
        </div>
        <div class="safari device-main">
            <div class="container">
                <header></header>
                <div class="contain">
                    <div class="body"></div>
                </div>
                <footer></footer>
            </div>
            <div class="controller"></div>
        </div>
    </div>
    <div class="device ip6">
    <header>iPhone 6设备 </header>
    <div class="wx device-main">
            <div class="container" data-image="">
                <header></header>
                <div class="contain">
                    <div class="body"></div>
                </div>
            </div>
            <div class="controller">
            </div>
        </div>
        <div class="safari device-main">
            <div class="container">
                <header></header>
                <div class="contain">
                    <div class="body"></div>
                </div>
                <footer></footer>
            </div>
            <div class="controller"></div>
        </div>
    </div>
    </div>
</body>
<script>
$(function(){
    $(".uploader").on("change",function(e){
        var upload = $(this);
        var f = upload[0].files[0];
        if (!f.type.match('image.*')) {
            return false;
        }
        var target = $(this).attr('name');
        var reader = new FileReader();
        reader.readAsDataURL(f);
        reader.onload = (function(theFile) {
            return function(e) {
                if (target=="uploadBacFile") {
                    if(sheetBac.rules.length){
                        sheetBac.deleteRule(0);
                    }

                    sheetBac.insertRule(".image-url{background-image:url("+e.target.result+");}",0)
                    if(!$('.image-url').length){
                        $('.body').addClass("image-url");
                    }
                }else{
                    var l = sheetItem.rules.length;
                    sheetItem.insertRule(".item-"+l+"{background-image:url("+e.target.result+");}",l);
                    var dom = "<img src="+e.target.result+" class='item"+l+" items'>";
                    $(dom).appendTo('.body');
                };
                
            };
        })(f,target);

    })
    $('#poselect').on('change',function(){
        if ($(this).val()=="ya") {
            $('.body').css("background-size","100% 100%");
            return false
        };
        $('#bacfull').css('background-size',$(this).val());
        $('.body').css('background-position',$(this).val());
    })
    $('#bacfull').on('change',function(){
        if ($("poselect").val()=="ya") {
            return
        };
        $('.body').css('background-size',$(this).val());
    })
    $('#minHeightBtn').on('click',function(){
        $('.body').css('min-height',$('#minHeight').val());
    })
    $('.items').on('mousemove',function(e){
        e.preventDefault();
        console.log(e.pageX,e.pageY);
    })
})
var sheetBac = (function() {  
    // 创建 <style> 标签  
    var style = document.createElement("style");  
  
    // 可以添加一个媒体(/媒体查询,media query)属性  
    // style.setAttribute("media", "screen")  
    // style.setAttribute("media", "only screen and (max-width : 1024px)")  
  
    // 对WebKit hack :(  
    style.appendChild(document.createTextNode(""));  
  
  
    // 将 <style> 元素加到页面中  
    document.head.appendChild(style);  
  
    return style.sheet;  
})(); 
var sheetItem = (function() {  
    // 创建 <style> 标签  
    var style = document.createElement("style");  
  
    // 可以添加一个媒体(/媒体查询,media query)属性  
    // style.setAttribute("media", "screen")  
    // style.setAttribute("media", "only screen and (max-width : 1024px)")  
  
    // 对WebKit hack :(  
    style.appendChild(document.createTextNode(""));  
  
  
    // 将 <style> 元素加到页面中  
    document.head.appendChild(style);  
  
    return style.sheet;  
})();  
</script>
</html>
